#!/bin/sh -e
# Suspend screen until enter is pressed or interrupted
$(which timer || echo sleep) "${1:-3}"

case "$(uname)" in
(Darwin)
  pmset displaysleepnow
  exit;;
esac

dpms() {
  if test $XDG_SESSION_TYPE = wayland
  then swaymsg "output * dpms $*"
  else xset dpms force "$@"
  fi
  stretchly $(test "$1" = on && echo resume || echo pause)
}
dpms off
trap 'dpms on' INT
test $# -gt 1 && shift && save "$@"
sleep 3
read _
dpms on
